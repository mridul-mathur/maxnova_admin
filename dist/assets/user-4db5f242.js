import{g as R,a as N,r as c,s as T,a6 as Re,a7 as Ne,m as k,_ as x,y as Y,u as W,w as We,b as A,j as e,c as $,d as B,a8 as Ae,T as M,a9 as Be,aa as Q,ab as _e,ac as pe,J as Z,K as X,ad as He,B as P,I as E,ae as Ie,af as Pe,ag as Ue,ah as ve,ai as ze,aj as Ee,ak as Oe,al as Fe,am as De,an as Le,M as ge,ao as Ve,ap as Ke,aq as Xe,ar as Ye}from"./index-85a03426.js";import{B as S}from"./Button-758f74ec.js";import{u as Je,T as I,F as xe,I as he,S as me}from"./TextField-c195dbb7.js";import"./useFormControl-a83ad2a1.js";function qe(t){return N("MuiDialog",t)}const Ge=R("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),de=Ge,Qe=c.createContext({}),Se=Qe,Ze=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],et=T(Re,{name:"MuiDialog",slot:"Backdrop",overrides:(t,a)=>a.backdrop})({zIndex:-1}),tt=t=>{const{classes:a,scroll:n,maxWidth:s,fullWidth:p,fullScreen:i}=t,d={root:["root"],container:["container",`scroll${k(n)}`],paper:["paper",`paperScroll${k(n)}`,`paperWidth${k(String(s))}`,p&&"paperFullWidth",i&&"paperFullScreen"]};return B(d,qe,a)},at=T(Ne,{name:"MuiDialog",slot:"Root",overridesResolver:(t,a)=>a.root})({"@media print":{position:"absolute !important"}}),ot=T("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.container,a[`scroll${k(n.scroll)}`]]}})(({ownerState:t})=>x({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),nt=T(Y,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.paper,a[`scrollPaper${k(n.scroll)}`],a[`paperWidth${k(String(n.maxWidth))}`],n.fullWidth&&a.paperFullWidth,n.fullScreen&&a.paperFullScreen]}})(({theme:t,ownerState:a})=>x({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},a.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},a.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!a.maxWidth&&{maxWidth:"calc(100% - 64px)"},a.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${de.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},a.maxWidth&&a.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[a.maxWidth]}${t.breakpoints.unit}`,[`&.${de.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[a.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},a.fullWidth&&{width:"calc(100% - 64px)"},a.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${de.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),st=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiDialog"}),p=We(),i={enter:p.transitions.duration.enteringScreen,exit:p.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":u,BackdropComponent:r,BackdropProps:m,children:f,className:D,disableEscapeKeyDown:C=!1,fullScreen:b=!1,fullWidth:l=!1,maxWidth:j="sm",onBackdropClick:h,onClick:v,onClose:w,open:y,PaperComponent:_=Y,PaperProps:o={},scroll:z="paper",TransitionComponent:J=Ae,transitionDuration:H=i,TransitionProps:q}=s,we=A(s,Ze),G=x({},s,{disableEscapeKeyDown:C,fullScreen:b,fullWidth:l,maxWidth:j,scroll:z}),ie=tt(G),re=c.useRef(),ke=K=>{re.current=K.target===K.currentTarget},$e=K=>{v&&v(K),re.current&&(re.current=null,h&&h(K),w&&w(K,"backdropClick"))},ce=Je(u),Me=c.useMemo(()=>({titleId:ce}),[ce]);return e.jsx(at,x({className:$(ie.root,D),closeAfterTransition:!0,components:{Backdrop:et},componentsProps:{backdrop:x({transitionDuration:H,as:r},m)},disableEscapeKeyDown:C,onClose:w,open:y,ref:n,onClick:$e,ownerState:G},we,{children:e.jsx(J,x({appear:!0,in:y,timeout:H,role:"presentation"},q,{children:e.jsx(ot,{className:$(ie.container),onMouseDown:ke,ownerState:G,children:e.jsx(nt,x({as:_,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":ce},o,{className:$(ie.paper,o.className),ownerState:G,children:e.jsx(Se.Provider,{value:Me,children:f})}))})}))}))}),O=st;function lt(t){return N("MuiDialogActions",t)}R("MuiDialogActions",["root","spacing"]);const it=["className","disableSpacing"],rt=t=>{const{classes:a,disableSpacing:n}=t;return B({root:["root",!n&&"spacing"]},lt,a)},ct=T("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,!n.disableSpacing&&a.spacing]}})(({ownerState:t})=>x({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),dt=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiDialogActions"}),{className:p,disableSpacing:i=!1}=s,d=A(s,it),u=x({},s,{disableSpacing:i}),r=rt(u);return e.jsx(ct,x({className:$(r.root,p),ownerState:u,ref:n},d))}),F=dt;function pt(t){return N("MuiDialogContent",t)}R("MuiDialogContent",["root","dividers"]);function ut(t){return N("MuiDialogTitle",t)}const gt=R("MuiDialogTitle",["root"]),xt=gt,ht=["className","dividers"],mt=t=>{const{classes:a,dividers:n}=t;return B({root:["root",n&&"dividers"]},pt,a)},ft=T("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,n.dividers&&a.dividers]}})(({theme:t,ownerState:a})=>x({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${xt.root} + &`]:{paddingTop:0}})),Ct=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiDialogContent"}),{className:p,dividers:i=!1}=s,d=A(s,ht),u=x({},s,{dividers:i}),r=mt(u);return e.jsx(ft,x({className:$(r.root,p),ownerState:u,ref:n},d))}),L=Ct,bt=["className","id"],jt=t=>{const{classes:a}=t;return B({root:["root"]},ut,a)},yt=T(M,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,a)=>a.root})({padding:"16px 24px",flex:"0 0 auto"}),vt=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiDialogTitle"}),{className:p,id:i}=s,d=A(s,bt),u=s,r=jt(u),{titleId:m=i}=c.useContext(Se);return e.jsx(yt,x({component:"h2",className:$(r.root,p),ownerState:u,ref:n,variant:"h6",id:i??m},d))}),V=vt,Dt=c.createContext(),Te=Dt;function St(t){return N("MuiTable",t)}R("MuiTable",["root","stickyHeader"]);const Tt=["className","component","padding","size","stickyHeader"],wt=t=>{const{classes:a,stickyHeader:n}=t;return B({root:["root",n&&"stickyHeader"]},St,a)},kt=T("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,n.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>x({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":x({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})),fe="table",$t=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiTable"}),{className:p,component:i=fe,padding:d="normal",size:u="medium",stickyHeader:r=!1}=s,m=A(s,Tt),f=x({},s,{component:i,padding:d,size:u,stickyHeader:r}),D=wt(f),C=c.useMemo(()=>({padding:d,size:u,stickyHeader:r}),[d,u,r]);return e.jsx(Te.Provider,{value:C,children:e.jsx(kt,x({as:i,role:i===fe?null:"table",ref:n,className:$(D.root,p),ownerState:f},m))})}),ee=$t,Mt=c.createContext(),te=Mt;function Rt(t){return N("MuiTableBody",t)}R("MuiTableBody",["root"]);const Nt=["className","component"],Wt=t=>{const{classes:a}=t;return B({root:["root"]},Rt,a)},At=T("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-row-group"}),Bt={variant:"body"},Ce="tbody",_t=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiTableBody"}),{className:p,component:i=Ce}=s,d=A(s,Nt),u=x({},s,{component:i}),r=Wt(u);return e.jsx(te.Provider,{value:Bt,children:e.jsx(At,x({className:$(r.root,p),as:i,ref:n,role:i===Ce?null:"rowgroup",ownerState:u},d))})}),ae=_t;function Ht(t){return N("MuiTableCell",t)}const It=R("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Pt=It,Ut=["align","className","component","padding","scope","size","sortDirection","variant"],zt=t=>{const{classes:a,variant:n,align:s,padding:p,size:i,stickyHeader:d}=t,u={root:["root",n,d&&"stickyHeader",s!=="inherit"&&`align${k(s)}`,p!=="normal"&&`padding${k(p)}`,`size${k(i)}`]};return B(u,Ht,a)},Et=T("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,a[n.variant],a[`size${k(n.size)}`],n.padding!=="normal"&&a[`padding${k(n.padding)}`],n.align!=="inherit"&&a[`align${k(n.align)}`],n.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>x({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Be(Q(t.palette.divider,1),.88):_e(Q(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},a.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},a.variant==="body"&&{color:(t.vars||t).palette.text.primary},a.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},a.size==="small"&&{padding:"6px 16px",[`&.${Pt.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},a.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},a.padding==="none"&&{padding:0},a.align==="left"&&{textAlign:"left"},a.align==="center"&&{textAlign:"center"},a.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},a.align==="justify"&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Ot=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiTableCell"}),{align:p="inherit",className:i,component:d,padding:u,scope:r,size:m,sortDirection:f,variant:D}=s,C=A(s,Ut),b=c.useContext(Te),l=c.useContext(te),j=l&&l.variant==="head";let h;d?h=d:h=j?"th":"td";let v=r;h==="td"?v=void 0:!v&&j&&(v="col");const w=D||l&&l.variant,y=x({},s,{align:p,component:h,padding:u||(b&&b.padding?b.padding:"normal"),size:m||(b&&b.size?b.size:"medium"),sortDirection:f,stickyHeader:w==="head"&&b&&b.stickyHeader,variant:w}),_=zt(y);let o=null;return f&&(o=f==="asc"?"ascending":"descending"),e.jsx(Et,x({as:h,ref:n,className:$(_.root,i),"aria-sort":o,scope:v,ownerState:y},C))}),g=Ot;function Ft(t){return N("MuiTableContainer",t)}R("MuiTableContainer",["root"]);const Lt=["className","component"],Vt=t=>{const{classes:a}=t;return B({root:["root"]},Ft,a)},Kt=T("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,a)=>a.root})({width:"100%",overflowX:"auto"}),Xt=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiTableContainer"}),{className:p,component:i="div"}=s,d=A(s,Lt),u=x({},s,{component:i}),r=Vt(u);return e.jsx(Kt,x({ref:n,as:i,className:$(r.root,p),ownerState:u},d))}),oe=Xt;function Yt(t){return N("MuiTableHead",t)}R("MuiTableHead",["root"]);const Jt=["className","component"],qt=t=>{const{classes:a}=t;return B({root:["root"]},Yt,a)},Gt=T("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-header-group"}),Qt={variant:"head"},be="thead",Zt=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiTableHead"}),{className:p,component:i=be}=s,d=A(s,Jt),u=x({},s,{component:i}),r=qt(u);return e.jsx(te.Provider,{value:Qt,children:e.jsx(Gt,x({as:i,className:$(r.root,p),ref:n,role:i===be?null:"rowgroup",ownerState:u},d))})}),ne=Zt;function ea(t){return N("MuiTableRow",t)}const ta=R("MuiTableRow",["root","selected","hover","head","footer"]),je=ta,aa=["className","component","hover","selected"],oa=t=>{const{classes:a,selected:n,hover:s,head:p,footer:i}=t;return B({root:["root",n&&"selected",s&&"hover",p&&"head",i&&"footer"]},ea,a)},na=T("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,n.head&&a.head,n.footer&&a.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${je.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${je.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Q(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Q(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),ye="tr",sa=c.forwardRef(function(a,n){const s=W({props:a,name:"MuiTableRow"}),{className:p,component:i=ye,hover:d=!1,selected:u=!1}=s,r=A(s,aa),m=c.useContext(te),f=x({},s,{component:i,hover:d,selected:u,head:m&&m.variant==="head",footer:m&&m.variant==="footer"}),D=oa(f);return e.jsx(na,x({as:i,ref:n,className:$(D.root,p),role:i===ye?null:"row",ownerState:f},r))}),U=sa,se=pe(e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),le=pe(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),ue=pe(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),la={name:"",description:"",image:null,catalog:null},ia=()=>{const[t,a]=c.useState(!1),[n,s]=c.useState(!1),[p,i]=c.useState(null),[d,u]=c.useState(null),[r,m]=c.useState(la),[f,D]=c.useState(null),C=Z(),b=X(o=>o.company.allcompany);c.useEffect(()=>{C(He())},[C]),c.useEffect(()=>{b&&D(b)},[b]);const l=(o=null)=>{u(o),m({name:(o==null?void 0:o.name)||"",description:(o==null?void 0:o.description)||"",image:null,catalog:null}),a(!0)},j=()=>{a(!1),u(null)},h=o=>{const{name:z,value:J,files:H}=o.target;m(q=>({...q,[z]:H?H[0]:J}))},v=()=>{const o=new FormData;o.append("name",r.name),o.append("description",r.description),r.image&&o.append("image",r.image),r.catalog&&o.append("catalog",r.catalog),C(d?Ie(d._id,o):Pe(o)),j()},w=o=>{i(o),s(!0)},y=()=>{s(!1),i(null)},_=()=>{p&&C(Ue(p)),y()};return e.jsxs(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(M,{variant:"h4",gutterBottom:!0,children:"Company Management"}),e.jsx(S,{variant:"contained",color:"inherit",startIcon:e.jsx(se,{}),onClick:()=>l(),sx:{mb:2},children:"Add Company"})]}),e.jsx(oe,{component:Y,children:e.jsxs(ee,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[e.jsx(g,{children:"Name"}),e.jsx(g,{children:"Description"}),e.jsx(g,{children:"Image"}),e.jsx(g,{children:"Catalog"}),e.jsx(g,{align:"center",children:"Actions"})]})}),e.jsx(ae,{children:f&&f.map(o=>e.jsxs(U,{children:[e.jsx(g,{children:o.name}),e.jsx(g,{children:o.description}),e.jsx(g,{children:o.image?e.jsx("img",{src:o.image,alt:o.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):"No Image"}),e.jsx(g,{children:o.catalog?e.jsx("a",{href:o.catalog,target:"_blank",rel:"noopener noreferrer",children:"View"}):"No Catalog"}),e.jsxs(g,{align:"center",sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(E,{sx:{position:"relative",width:2,height:2},color:"default",onClick:()=>l(o),children:e.jsx(ue,{})}),e.jsx(E,{sx:{position:"relative",width:2,height:2},color:"error",onClick:()=>w(o._id),children:e.jsx(le,{})})]})]},o._id))})]})}),e.jsxs(O,{open:t,onClose:j,children:[e.jsx(V,{children:d?"Edit Company":"Add Company"}),e.jsxs(L,{children:[e.jsx(I,{label:"Name",name:"name",value:r.name,onChange:h,fullWidth:!0,margin:"normal"}),e.jsx(I,{label:"Description",name:"description",value:r.description,onChange:h,fullWidth:!0,margin:"normal",multiline:!0,rows:3}),e.jsx(M,{variant:"subtitle1",sx:{mt:2},children:"Upload Image"}),e.jsx("input",{type:"file",name:"image",onChange:h,accept:"image/*"}),e.jsx(M,{variant:"subtitle1",sx:{mt:2},children:"Upload Catalog"}),e.jsx("input",{type:"file",name:"catalog",onChange:h,accept:".pdf"})]}),e.jsxs(F,{children:[e.jsx(S,{onClick:j,children:"Cancel"}),e.jsx(S,{variant:"contained",onClick:v,children:"Save"})]})]}),e.jsxs(O,{open:n,onClose:y,children:[e.jsx(V,{children:"Confirm Delete"}),e.jsx(L,{children:e.jsx(M,{children:"Are you sure you want to delete this company?"})}),e.jsxs(F,{children:[e.jsx(S,{onClick:y,children:"Cancel"}),e.jsx(S,{variant:"contained",color:"error",onClick:_,children:"Delete"})]})]})]})},ra=ia,ca={name:"",description:"",slogan:"",image:null},da=()=>{const[t,a]=c.useState(!1),[n,s]=c.useState(!1),[p,i]=c.useState(null),[d,u]=c.useState(null),[r,m]=c.useState(ca),[f,D]=c.useState(null),C=Z(),b=X(o=>o.category.allcategory);c.useEffect(()=>{C(ve())},[C]),c.useEffect(()=>{b&&D(b)},[b]);const l=(o=null)=>{u(o),m({name:(o==null?void 0:o.name)||"",description:(o==null?void 0:o.description)||"",slogan:(o==null?void 0:o.slogan)||"",image:null}),a(!0)},j=()=>{a(!1),u(null)},h=o=>{const{name:z,value:J,files:H}=o.target;m(q=>({...q,[z]:H?H[0]:J}))},v=()=>{const o=new FormData;o.append("name",r.name),o.append("description",r.description),o.append("slogan",r.slogan),r.image&&o.append("image",r.image),C(d?ze(d._id,o):Ee(o)),j()},w=o=>{i(o),s(!0)},y=()=>{s(!1),i(null)},_=()=>{p&&C(Oe(p)),y()};return e.jsxs(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(M,{variant:"h4",gutterBottom:!0,children:"Category Management"}),e.jsx(S,{variant:"contained",color:"inherit",startIcon:e.jsx(se,{}),onClick:()=>l(),sx:{mb:2},children:"Add Category"})]}),e.jsx(oe,{component:Y,children:e.jsxs(ee,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[e.jsx(g,{children:"Name"}),e.jsx(g,{children:"Description"}),e.jsx(g,{children:"Image"}),e.jsx(g,{align:"center",children:"Actions"})]})}),e.jsx(ae,{children:f&&f.map(o=>e.jsxs(U,{children:[e.jsx(g,{children:o.name}),e.jsx(g,{children:o.description}),e.jsx(g,{children:o.image?e.jsx("img",{src:o.image,alt:o.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):"No Image"}),e.jsxs(g,{align:"center",sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(E,{sx:{position:"relative",width:2,height:2},color:"default",onClick:()=>l(o),children:e.jsx(ue,{})}),e.jsx(E,{sx:{position:"relative",width:2,height:2},color:"error",onClick:()=>w(o._id),children:e.jsx(le,{})})]})]},o._id))})]})}),e.jsxs(O,{open:t,onClose:j,children:[e.jsx(V,{children:d?"Edit Category":"Add Category"}),e.jsxs(L,{children:[e.jsx(I,{label:"Name",name:"name",value:r.name,onChange:h,fullWidth:!0,margin:"normal"}),e.jsx(I,{label:"Description",name:"description",value:r.description,onChange:h,fullWidth:!0,margin:"normal",multiline:!0,rows:3}),e.jsx(I,{label:"Slogan",name:"slogan",value:r.slogan,onChange:h,fullWidth:!0,margin:"normal",multiline:!0,rows:3}),e.jsx(M,{variant:"subtitle1",sx:{mt:2},children:"Upload Image"}),e.jsx("input",{type:"file",name:"image",onChange:h,accept:"image/*"})]}),e.jsxs(F,{children:[e.jsx(S,{onClick:j,children:"Cancel"}),e.jsx(S,{variant:"contained",onClick:v,children:"Save"})]})]}),e.jsxs(O,{open:n,onClose:y,children:[e.jsx(V,{children:"Confirm Delete"}),e.jsx(L,{children:e.jsx(M,{children:"Are you sure you want to delete this category?"})}),e.jsxs(F,{children:[e.jsx(S,{onClick:y,children:"Cancel"}),e.jsx(S,{variant:"contained",color:"error",onClick:_,children:"Delete"})]})]})]})},pa=da,ua={name:"",category:"",subcategory:"",features:""},ga=()=>{const[t,a]=c.useState(!1),[n,s]=c.useState(null),[p,i]=c.useState(ua),d=Z(),u=X(l=>l.subproduct.allsubproducts),r=X(l=>l.subcategory.allsubcategories),m=X(l=>l.category.allcategory);c.useEffect(()=>{d(Fe()),d(De()),d(ve())},[d]),c.useEffect(()=>{console.log("Subproducts:",u),console.log("Subcategories:",r),console.log("Categories:",m)},[u,r,m]);const f=(l=null)=>{var j,h,v;console.log("Opening Dialog for:",l?"Editing":"Adding New"),s(l),i({name:(l==null?void 0:l.name)||"",category:((j=l==null?void 0:l.category)==null?void 0:j._id)||"",subcategory:((h=l==null?void 0:l.subcategory)==null?void 0:h._id)||"",features:((v=l==null?void 0:l.features)==null?void 0:v.join(`
`))||""}),a(!0)},D=()=>{a(!1),s(null)},C=l=>{const{name:j,value:h}=l.target;i(v=>({...v,[j]:h}))},b=()=>{const l={...p,features:p.features.split(`
`).map(j=>j.trim())};console.log("Saving Subproduct:",l),d(n?Ve(n._id,l):Ke(l)),D()};return e.jsxs(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(M,{variant:"h4",gutterBottom:!0,children:"Subproduct Management"}),e.jsx(S,{variant:"contained",color:"inherit",startIcon:e.jsx(se,{}),onClick:()=>f(),sx:{mb:2},children:"Add Subproduct"})]}),e.jsx(oe,{component:Y,children:e.jsxs(ee,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[e.jsx(g,{children:"Name"}),e.jsx(g,{children:"Category"}),e.jsx(g,{children:"Subcategory"}),e.jsx(g,{children:"Features"}),e.jsx(g,{align:"center",children:"Actions"})]})}),e.jsx(ae,{children:u&&u.map(l=>{var j,h;return e.jsxs(U,{children:[e.jsx(g,{children:l.name}),e.jsx(g,{children:(j=l.category)==null?void 0:j.name}),e.jsx(g,{children:(h=l.subcategory)==null?void 0:h.name}),e.jsx(g,{children:l.features.join(", ")}),e.jsxs(g,{align:"center",children:[e.jsx(E,{color:"default",onClick:()=>f(l),children:e.jsx(ue,{})}),e.jsx(E,{color:"error",onClick:()=>d(Le(l._id)),children:e.jsx(le,{})})]})]},l._id)})})]})}),e.jsxs(O,{open:t,onClose:D,children:[e.jsx(V,{children:n?"Edit Subproduct":"Add Subproduct"}),e.jsxs(L,{children:[e.jsx(I,{label:"Name",name:"name",value:p.name,onChange:C,fullWidth:!0,margin:"normal"}),e.jsxs(xe,{fullWidth:!0,margin:"normal",children:[e.jsx(he,{children:"Category"}),e.jsx(me,{name:"category",value:p.category,onChange:C,children:m==null?void 0:m.map(l=>e.jsx(ge,{value:l._id,children:l.name},l._id))})]}),e.jsxs(xe,{fullWidth:!0,margin:"normal",children:[e.jsx(he,{children:"Subcategory"}),e.jsx(me,{name:"subcategory",value:p.subcategory,onChange:C,children:r==null?void 0:r.map(l=>e.jsx(ge,{value:l._id,children:l.name},l._id))})]}),e.jsx(I,{label:"Features",name:"features",value:p.features,onChange:C,fullWidth:!0,margin:"normal",multiline:!0,rows:3})]}),e.jsxs(F,{children:[e.jsx(S,{onClick:D,children:"Cancel"}),e.jsx(S,{variant:"contained",onClick:b,children:"Save"})]})]})]})},xa=ga,ha={name:""},ma=()=>{const[t,a]=c.useState(!1),[n,s]=c.useState(!1),[p,i]=c.useState(null),[d,u]=c.useState(ha),[r,m]=c.useState(null),f=Z(),D=X(y=>y.subcategory.allsubcategories);c.useEffect(()=>{f(De())},[f]),c.useEffect(()=>{D&&m(D)},[D]);const C=()=>{u({name:""}),a(!0)},b=()=>{a(!1)},l=y=>{const{name:_,value:o}=y.target;u(z=>({...z,[_]:o}))},j=()=>{f(Xe(d)),b()},h=y=>{i(y),s(!0)},v=()=>{s(!1),i(null)},w=()=>{p&&f(Ye(p)),v()};return e.jsxs(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(M,{variant:"h4",gutterBottom:!0,children:"Subcategory Management"}),e.jsx(S,{variant:"contained",color:"inherit",startIcon:e.jsx(se,{}),onClick:C,sx:{mb:2},children:"Add Subcategory"})]}),e.jsx(oe,{component:Y,children:e.jsxs(ee,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[e.jsx(g,{children:"Name"}),e.jsx(g,{align:"center",children:"Actions"})]})}),e.jsx(ae,{children:r&&r.map(y=>e.jsxs(U,{children:[e.jsx(g,{children:y.name}),e.jsx(g,{align:"center",children:e.jsx(E,{color:"error",onClick:()=>h(y._id),children:e.jsx(le,{})})})]},y._id))})]})}),e.jsxs(O,{open:t,onClose:b,children:[e.jsx(V,{children:"Add Subcategory"}),e.jsx(L,{children:e.jsx(I,{label:"Name",name:"name",value:d.name,onChange:l,fullWidth:!0,margin:"normal"})}),e.jsxs(F,{children:[e.jsx(S,{onClick:b,children:"Cancel"}),e.jsx(S,{variant:"contained",onClick:j,children:"Save"})]})]}),e.jsxs(O,{open:n,onClose:v,children:[e.jsx(V,{children:"Confirm Delete"}),e.jsx(L,{children:e.jsx(M,{children:"Are you sure you want to delete this subcategory?"})}),e.jsxs(F,{children:[e.jsx(S,{onClick:v,children:"Cancel"}),e.jsx(S,{variant:"contained",color:"error",onClick:w,children:"Delete"})]})]})]})},fa=ma;function va(){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5rem"},children:[e.jsx(ra,{}),e.jsx(pa,{}),e.jsx(fa,{}),e.jsx(xa,{})]})}export{va as default};
